- args:
    actions:
    - definition:
        arguments:
        - name: username
          type: String!
        - name: password
          type: String!
        forward_client_headers: true
        handler: https://future-bedecked-cause.glitch.me/login
        kind: synchronous
        output_type: LoginPayload
      name: login
    custom_types:
      objects:
      - fields:
        - name: accessToken
          type: String!
        - name: userId
          type: Int!
        name: LoginPayload
        relationships:
        - field_mapping:
            userId: id
          name: user
          remote_table:
            name: user
            schema: public
          type: object
    tables:
    - array_relationships:
      - name: like_campaigns
        using:
          foreign_key_constraint_on:
            column: account_id
            table:
              name: like_campaign
              schema: public
      - name: logs
        using:
          foreign_key_constraint_on:
            column: account_id
            table:
              name: log
              schema: public
      computed_fields:
      - comment: ""
        definition:
          function:
            name: available_credit
            schema: public
          table_argument: null
        name: available_credit
      event_triggers:
      - definition:
          enable_manual: false
          update:
            columns:
            - last_activity
        name: keep-running
        retry_conf:
          interval_sec: 10
          num_retries: 0
          timeout_sec: 60
        webhook: https://social-campaigns-run.herokuapp.com/
      - definition:
          enable_manual: false
          update:
            columns:
            - last_activity
        name: keep-running2
        retry_conf:
          interval_sec: 10
          num_retries: 0
          timeout_sec: 60
        webhook: https://social-campaigns-runner2.herokuapp.com/
      table:
        name: account
        schema: public
    - array_relationships:
      - name: like_campaigns
        using:
          foreign_key_constraint_on:
            column: user_compaign_id
            table:
              name: like_campaign
              schema: public
      event_triggers:
      - definition:
          enable_manual: false
          update:
            columns:
            - status
        headers:
        - name: api-key
          value: 9j6T_wQ5SJLdP]px[aHSJLdP]pt*Q
        name: cancel-campaign
        retry_conf:
          interval_sec: 10
          num_retries: 0
          timeout_sec: 600
        webhook: https://social-campaigns-run.herokuapp.com/run/cancelCampaign
      - definition:
          enable_manual: false
          insert:
            columns: '*'
          update:
            columns:
            - status
        headers:
        - name: api-key
          value: 9j6T_wQ5SJLdP]px[aHSJLdP]pt*Q
        name: start-campaign
        retry_conf:
          interval_sec: 30
          num_retries: 0
          timeout_sec: 600
        webhook: https://social-campaigns-run.herokuapp.com/run/startCampaign
      object_relationships:
      - name: user
        using:
          foreign_key_constraint_on: user_id
      table:
        name: campaign
        schema: public
    - is_enum: true
      table:
        name: campaign_type
        schema: public
    - object_relationships:
      - name: account
        using:
          foreign_key_constraint_on: account_id
      - name: user_campaign
        using:
          foreign_key_constraint_on: user_compaign_id
      table:
        name: like_campaign
        schema: public
    - object_relationships:
      - name: account
        using:
          foreign_key_constraint_on: account_id
      table:
        name: log
        schema: public
    - table:
        name: setting
        schema: public
    - select_permissions:
      - permission:
          columns:
          - credit
          - email
          filter:
            id:
              _eq: X-Hasura-User-Id
        role: user
      table:
        name: user
        schema: public
    version: 2
  type: replace_metadata
